Source the FSL configuration script using:
     . /gpfs/milgram/apps/hpc.rhel7/software/FSL/6.0.3-centos7_64/etc/fslconf/fsl.sh To use FSLeyes GUI, load the separate FSLeyes module.
Source the FSL configuration script using:
     . /gpfs/milgram/apps/hpc.rhel7/software/FSL/6.0.3-centos7_64/etc/fslconf/fsl.sh To use FSLeyes GUI, load the separate FSLeyes module.
Source the FSL configuration script using:
     . /gpfs/milgram/apps/hpc.rhel7/software/FSL/6.0.3-centos7_64/etc/fslconf/fsl.sh To use FSLeyes GUI, load the separate FSLeyes module.
Source the FSL configuration script using:
     . /gpfs/milgram/apps/hpc.rhel7/software/FSL/6.0.3-centos7_64/etc/fslconf/fsl.sh To use FSLeyes GUI, load the separate FSLeyes module.
210311-18:41:46,70 nipype.utils DEBUG:
	 Running a newer version (1.6.0) of nipy/nipype than available (1.5.1)
210311-18:41:46,496 nipype.workflow DEBUG:
	 (csd_flow.infosource, csd_flow.sf): No edge data
210311-18:41:46,496 nipype.workflow DEBUG:
	 (csd_flow.infosource, csd_flow.sf): new edge data: {'connect': [('subject_id', 'subject_id')]}
210311-18:41:46,496 nipype.workflow DEBUG:
	 (csd_flow.sf, csd_flow.seg5tt): No edge data
210311-18:41:46,496 nipype.workflow DEBUG:
	 (csd_flow.sf, csd_flow.seg5tt): new edge data: {'connect': [('t1', 'in_file')]}
210311-18:41:46,496 nipype.workflow DEBUG:
	 (csd_flow.seg5tt, csd_flow.datasink): No edge data
210311-18:41:46,496 nipype.workflow DEBUG:
	 (csd_flow.seg5tt, csd_flow.datasink): new edge data: {'connect': [('out_file', '5_Tract_Reconstruction')]}
210311-18:41:46,496 nipype.workflow DEBUG:
	 (csd_flow.sf, csd_flow.gradconv): No edge data
210311-18:41:46,497 nipype.workflow DEBUG:
	 (csd_flow.sf, csd_flow.gradconv): new edge data: {'connect': [('dti', 'in_file'), ('bval', 'in_bval'), ('bvec', 'in_bvec')]}
210311-18:41:46,497 nipype.workflow DEBUG:
	 (csd_flow.gradconv, csd_flow.dwiresp): No edge data
210311-18:41:46,497 nipype.workflow DEBUG:
	 (csd_flow.gradconv, csd_flow.dwiresp): new edge data: {'connect': [('out_file', 'in_file')]}
210311-18:41:46,497 nipype.workflow DEBUG:
	 (csd_flow.dwiresp, csd_flow.datasink): No edge data
210311-18:41:46,497 nipype.workflow DEBUG:
	 (csd_flow.dwiresp, csd_flow.datasink): new edge data: {'connect': [('wm_file', '4_Deconvolution.@par'), ('gm_file', '4_Deconvolution.@par.@par'), ('csf_file', '4_Deconvolution.@par.@par.@par')]}
210311-18:41:46,497 nipype.workflow DEBUG:
	 (csd_flow.gradconv, csd_flow.mscsd): No edge data
210311-18:41:46,497 nipype.workflow DEBUG:
	 (csd_flow.gradconv, csd_flow.mscsd): new edge data: {'connect': [('out_file', 'in_file')]}
210311-18:41:46,497 nipype.workflow DEBUG:
	 (csd_flow.dwiresp, csd_flow.mscsd): No edge data
210311-18:41:46,497 nipype.workflow DEBUG:
	 (csd_flow.dwiresp, csd_flow.mscsd): new edge data: {'connect': [('wm_file', 'wm_txt'), ('gm_file', 'gm_txt'), ('csf_file', 'csf_txt')]}
210311-18:41:46,497 nipype.workflow DEBUG:
	 (csd_flow.mscsd, csd_flow.tract): No edge data
210311-18:41:46,497 nipype.workflow DEBUG:
	 (csd_flow.mscsd, csd_flow.tract): new edge data: {'connect': [('wm_odf', 'in_file')]}
210311-18:41:46,497 nipype.workflow DEBUG:
	 (csd_flow.mscsd, csd_flow.datasink): No edge data
210311-18:41:46,497 nipype.workflow DEBUG:
	 (csd_flow.mscsd, csd_flow.datasink): new edge data: {'connect': [('wm_odf', '4_Deconvolution.@par.@par.@par.@par'), ('gm_odf', '4_Deconvolution.@par.@par.@par.@par.@par'), ('csf_odf', '4_Deconvolution.@par.@par.@par.@par.@par.@par')]}
210311-18:41:46,497 nipype.workflow DEBUG:
	 (csd_flow.gradconv, csd_flow.datasink): No edge data
210311-18:41:46,497 nipype.workflow DEBUG:
	 (csd_flow.gradconv, csd_flow.datasink): new edge data: {'connect': [('out_file', '4_Deconvolution.@par.@par.@par.@par.@par.@par.@par')]}
210311-18:41:46,509 nipype.workflow DEBUG:
	 Creating flat graph for workflow: csd_flow
210311-18:41:46,512 nipype.workflow DEBUG:
	 expanding workflow: csd_flow
210311-18:41:46,512 nipype.workflow DEBUG:
	 processing node: csd_flow.infosource
210311-18:41:46,516 nipype.workflow DEBUG:
	 processing node: csd_flow.sf
210311-18:41:46,516 nipype.workflow DEBUG:
	 processing node: csd_flow.gradconv
210311-18:41:46,516 nipype.workflow DEBUG:
	 processing node: csd_flow.dwiresp
210311-18:41:46,516 nipype.workflow DEBUG:
	 processing node: csd_flow.mscsd
210311-18:41:46,516 nipype.workflow DEBUG:
	 processing node: csd_flow.tract
210311-18:41:46,516 nipype.workflow DEBUG:
	 processing node: csd_flow.seg5tt
210311-18:41:46,516 nipype.workflow DEBUG:
	 processing node: csd_flow.datasink
210311-18:41:46,516 nipype.workflow DEBUG:
	 finished expanding workflow: csd_flow
210311-18:41:46,519 nipype.workflow DEBUG:
	 using input graph
210311-18:41:47,975 nipype.workflow DEBUG:
	 creating dot graph
210311-18:41:49,290 nipype.workflow INFO:
	 Generated workflow graph: /gpfs/milgram/project/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/graph.png (graph2use=flat, simple_form=True).
210311-18:41:49,511 nipype.workflow DEBUG:
	 [MultiProc] Starting (n_procs=4, mem_gb=168.77, cwd=/gpfs/milgram/home/lms233/Github/Diffusion)
210311-18:41:49,512 nipype.workflow DEBUG:
	 Creating flat graph for workflow: csd_flow
210311-18:41:49,514 nipype.workflow DEBUG:
	 expanding workflow: csd_flow
210311-18:41:49,514 nipype.workflow DEBUG:
	 processing node: csd_flow.infosource
210311-18:41:49,515 nipype.workflow DEBUG:
	 processing node: csd_flow.sf
210311-18:41:49,515 nipype.workflow DEBUG:
	 processing node: csd_flow.gradconv
210311-18:41:49,515 nipype.workflow DEBUG:
	 processing node: csd_flow.dwiresp
210311-18:41:49,515 nipype.workflow DEBUG:
	 processing node: csd_flow.mscsd
210311-18:41:49,515 nipype.workflow DEBUG:
	 processing node: csd_flow.tract
210311-18:41:49,515 nipype.workflow DEBUG:
	 processing node: csd_flow.seg5tt
210311-18:41:49,515 nipype.workflow DEBUG:
	 processing node: csd_flow.datasink
210311-18:41:49,515 nipype.workflow DEBUG:
	 finished expanding workflow: csd_flow
210311-18:41:49,515 nipype.workflow INFO:
	 Workflow csd_flow settings: ['check', 'execution', 'logging', 'monitoring']
210311-18:41:49,517 nipype.workflow DEBUG:
	 PE: expanding iterables
210311-18:41:49,518 nipype.workflow DEBUG:
	 Detected iterable nodes [csd_flow.infosource]
210311-18:41:49,518 nipype.workflow DEBUG:
	 Expanding the iterable node csd_flow.infosource...
210311-18:41:49,518 nipype.workflow DEBUG:
	 node: csd_flow.infosource iterables: {'subject_id': <function _standardize_iterables.<locals>.make_field_func.<locals>.<lambda> at 0x2b9e4034b5f0>}
210311-18:41:49,518 nipype.workflow DEBUG:
	 ('subnodes:', [csd_flow.infosource, csd_flow.sf, csd_flow.seg5tt, csd_flow.datasink, csd_flow.gradconv, csd_flow.dwiresp, csd_flow.mscsd, csd_flow.tract])
210311-18:41:49,521 nipype.workflow DEBUG:
	 [Node] infosource - setting input subject_id = sub-A459
210311-18:41:49,521 nipype.workflow DEBUG:
	 Parameterization: paramstr=_subject_id_sub-A459
210311-18:41:49,521 nipype.workflow DEBUG:
	 PE: expanding iterables ... done
210311-18:41:49,521 nipype.workflow DEBUG:
	 [Node] sf - setting input subject_id = sub-A459
210311-18:41:49,521 nipype.workflow DEBUG:
	 Removed the identity node csd_flow.infosource from the graph.
210311-18:41:51,107 nipype.workflow DEBUG:
	 Performing depth first search
210311-18:41:51,113 nipype.workflow INFO:
	 Running in parallel.
210311-18:41:51,117 nipype.workflow DEBUG:
	 Progress: 7 jobs, 0/0/1 (done/running/ready), 0/7 (pending_tasks/waiting).
210311-18:41:51,117 nipype.workflow DEBUG:
	 Tasks currently running: 0. Pending: 0.
210311-18:41:51,119 nipype.workflow INFO:
	 [MultiProc] Running 0 tasks, and 1 jobs ready. Free memory (GB): 168.77/168.77, Free processors: 4/4.
210311-18:41:51,185 nipype.workflow DEBUG:
	 Allocating csd_flow.sf ID=0 (0.20GB, 1 threads). Free: 168.57GB, 3 threads.
210311-18:41:51,185 nipype.workflow DEBUG:
	 [Node] Not cached "/gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A459/sf".
210311-18:41:51,185 nipype.workflow DEBUG:
	 Checking hash "csd_flow.sf" locally: cached=False, updated=False.
210311-18:41:51,233 nipype.workflow DEBUG:
	 [MultiProc] Submitted task csd_flow.sf (taskid=1).
210311-18:41:51,239 nipype.workflow INFO:
	 [Node] Setting-up "csd_flow.sf" in "/gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A459/sf".
210311-18:41:51,240 nipype.workflow DEBUG:
	 [Node] Not cached "/gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A459/sf".
210311-18:41:51,241 nipype.utils DEBUG:
	 Removing contents of /gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A459/sf
210311-18:41:51,245 nipype.workflow DEBUG:
	 [Node] Writing pre-exec report to "/gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A459/sf/_report/report.rst"
210311-18:41:51,250 nipype.workflow INFO:
	 [Node] Running "sf" ("nipype.interfaces.io.SelectFiles")
210311-18:41:51,265 nipype.workflow DEBUG:
	 Needed files: /gpfs/milgram/project/gee_dylan/candlab/analyses/shapes/dwi/data/3_Eddy_Corrected/sub-A459/eddy_corrected.nii.gz;/gpfs/milgram/project/gee_dylan/candlab/data/mri/bids_recon/shapes/sub-A459/ses-shapesV1/dwi/sub-A459_ses-shapesV1_dwi.bval;/gpfs/milgram/project/gee_dylan/candlab/analyses/shapes/dwi/data/3_Eddy_Corrected/sub-A459/eddy_corrected.eddy_rotated_bvecs;/gpfs/milgram/project/gee_dylan/candlab/analyses/shapes/dwi/data/1_Check_Unwarped/sub-A459/sub-A459_ses-shapesV1_T1w_flirt_brain.nii.gz;/gpfs/milgram/project/gee_dylan/candlab/atlases/MNI152_T1_2mm_brain.nii.gz;/gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A459/sf/_0x45bc7ae5c92aed9e563c89b2aea84db5_unfinished.json;/gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A459/sf/_inputs.pklz;/gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A459/sf/_node.pklz
210311-18:41:51,265 nipype.workflow DEBUG:
	 Needed dirs: /gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A459/sf/_report
210311-18:41:51,265 nipype.workflow DEBUG:
	 Removing files: 
210311-18:41:51,265 nipype.workflow DEBUG:
	 Saving results file: '/gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A459/sf/result_sf.pklz'
210311-18:41:51,268 nipype.workflow DEBUG:
	 [Node] Writing post-exec report to "/gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A459/sf/_report/report.rst"
210311-18:41:51,270 nipype.workflow INFO:
	 [Node] Finished "csd_flow.sf".
210311-18:41:53,121 nipype.workflow DEBUG:
	 Progress: 7 jobs, 0/1/0 (done/running/ready), 1/6 (pending_tasks/waiting).
210311-18:41:53,121 nipype.workflow INFO:
	 [Job 0] Completed (csd_flow.sf).
210311-18:41:53,123 nipype.workflow DEBUG:
	 Tasks currently running: 0. Pending: 0.
210311-18:41:53,124 nipype.workflow INFO:
	 [MultiProc] Running 0 tasks, and 2 jobs ready. Free memory (GB): 168.77/168.77, Free processors: 4/4.
210311-18:41:53,210 nipype.workflow DEBUG:
	 Allocating csd_flow.gradconv ID=1 (0.20GB, 1 threads). Free: 168.57GB, 3 threads.
210311-18:41:53,212 nipype.workflow DEBUG:
	 [Node] Not cached "/gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A459/gradconv".
210311-18:41:53,212 nipype.workflow DEBUG:
	 Checking hash "csd_flow.gradconv" locally: cached=False, updated=False.
210311-18:41:53,216 nipype.workflow INFO:
	 [Node] Setting-up "csd_flow.gradconv" in "/gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A459/gradconv".
210311-18:41:53,216 nipype.workflow DEBUG:
	 [Node] Not cached "/gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A459/gradconv".
210311-18:41:53,216 nipype.workflow DEBUG:
	 [Node] Setting 3 connected inputs of node "gradconv" from 1 previous nodes.
210311-18:41:53,217 nipype.utils DEBUG:
	 Loading pkl: /gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A459/sf/result_sf.pklz
210311-18:41:53,220 nipype.workflow DEBUG:
	 Resolving paths in outputs loaded from results file.
210311-18:41:53,220 nipype.workflow DEBUG:
	 output: dti
210311-18:41:53,221 nipype.workflow DEBUG:
	 [Node] gradconv - setting input in_file = /gpfs/milgram/project/gee_dylan/candlab/analyses/shapes/dwi/data/3_Eddy_Corrected/sub-A459/eddy_corrected.nii.gz
210311-18:41:53,221 nipype.workflow DEBUG:
	 output: bval
210311-18:41:53,221 nipype.workflow DEBUG:
	 [Node] gradconv - setting input in_bval = /gpfs/milgram/project/gee_dylan/candlab/data/mri/bids_recon/shapes/sub-A459/ses-shapesV1/dwi/sub-A459_ses-shapesV1_dwi.bval
210311-18:41:53,221 nipype.workflow DEBUG:
	 output: bvec
210311-18:41:53,221 nipype.workflow DEBUG:
	 [Node] gradconv - setting input in_bvec = /gpfs/milgram/project/gee_dylan/candlab/analyses/shapes/dwi/data/3_Eddy_Corrected/sub-A459/eddy_corrected.eddy_rotated_bvecs
210311-18:41:53,222 nipype.utils DEBUG:
	 Removing contents of /gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A459/gradconv
210311-18:41:53,222 nipype.workflow DEBUG:
	 [MultiProc] Submitted task csd_flow.gradconv (taskid=2).
210311-18:41:53,223 nipype.workflow DEBUG:
	 Allocating csd_flow.seg5tt ID=5 (0.20GB, 1 threads). Free: 168.37GB, 2 threads.
210311-18:41:53,223 nipype.workflow DEBUG:
	 [Node] Not cached "/gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A459/seg5tt".
210311-18:41:53,223 nipype.workflow DEBUG:
	 Checking hash "csd_flow.seg5tt" locally: cached=False, updated=False.
210311-18:41:53,226 nipype.workflow INFO:
	 [Node] Setting-up "csd_flow.seg5tt" in "/gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A459/seg5tt".
210311-18:41:53,226 nipype.workflow DEBUG:
	 [Node] Not cached "/gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A459/seg5tt".
210311-18:41:53,227 nipype.workflow DEBUG:
	 [Node] Setting 1 connected inputs of node "seg5tt" from 1 previous nodes.
210311-18:41:53,228 nipype.utils DEBUG:
	 Loading pkl: /gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A459/sf/result_sf.pklz
210311-18:41:53,230 nipype.workflow DEBUG:
	 Resolving paths in outputs loaded from results file.
210311-18:41:53,231 nipype.workflow DEBUG:
	 output: t1
210311-18:41:53,231 nipype.workflow DEBUG:
	 [Node] seg5tt - setting input in_file = /gpfs/milgram/project/gee_dylan/candlab/analyses/shapes/dwi/data/1_Check_Unwarped/sub-A459/sub-A459_ses-shapesV1_T1w_flirt_brain.nii.gz
210311-18:41:53,231 nipype.utils DEBUG:
	 Removing contents of /gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A459/seg5tt
210311-18:41:53,232 nipype.workflow DEBUG:
	 [MultiProc] Submitted task csd_flow.seg5tt (taskid=3).
210311-18:41:53,233 nipype.workflow DEBUG:
	 [Node] Writing pre-exec report to "/gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A459/gradconv/_report/report.rst"
210311-18:41:53,233 nipype.workflow DEBUG:
	 [Node] Writing pre-exec report to "/gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A459/seg5tt/_report/report.rst"
210311-18:41:53,237 nipype.interface DEBUG:
	 in_file_/gpfs/milgram/project/gee_dylan/candlab/analyses/shapes/dwi/data/3_Eddy_Corrected/sub-A459/eddy_corrected.nii.gz
210311-18:41:53,237 nipype.interface DEBUG:
	 out_file_dwi.mif
210311-18:41:53,238 nipype.workflow INFO:
	 [Node] Running "gradconv" ("nipype.interfaces.mrtrix3.utils.MRConvert"), a CommandLine Interface with command:
mrconvert -fslgrad /gpfs/milgram/project/gee_dylan/candlab/analyses/shapes/dwi/data/3_Eddy_Corrected/sub-A459/eddy_corrected.eddy_rotated_bvecs /gpfs/milgram/project/gee_dylan/candlab/data/mri/bids_recon/shapes/sub-A459/ses-shapesV1/dwi/sub-A459_ses-shapesV1_dwi.bval /gpfs/milgram/project/gee_dylan/candlab/analyses/shapes/dwi/data/3_Eddy_Corrected/sub-A459/eddy_corrected.nii.gz dwi.mif
210311-18:41:53,240 nipype.interface DEBUG:
	 in_file_/gpfs/milgram/project/gee_dylan/candlab/analyses/shapes/dwi/data/3_Eddy_Corrected/sub-A459/eddy_corrected.nii.gz
210311-18:41:53,240 nipype.interface DEBUG:
	 out_file_dwi.mif
210311-18:41:53,248 nipype.interface DEBUG:
	 algorithm_fsl
210311-18:41:53,248 nipype.interface DEBUG:
	 in_file_/gpfs/milgram/project/gee_dylan/candlab/analyses/shapes/dwi/data/1_Check_Unwarped/sub-A459/sub-A459_ses-shapesV1_T1w_flirt_brain.nii.gz
210311-18:41:53,248 nipype.interface DEBUG:
	 out_file_T1s_5tt_segmented.nii.gz
210311-18:41:53,249 nipype.workflow INFO:
	 [Node] Running "seg5tt" ("nipype.interfaces.mrtrix3.utils.Generate5tt"), a CommandLine Interface with command:
5ttgen fsl /gpfs/milgram/project/gee_dylan/candlab/analyses/shapes/dwi/data/1_Check_Unwarped/sub-A459/sub-A459_ses-shapesV1_T1w_flirt_brain.nii.gz T1s_5tt_segmented.nii.gz
210311-18:41:53,250 nipype.interface DEBUG:
	 algorithm_fsl
210311-18:41:53,250 nipype.interface DEBUG:
	 in_file_/gpfs/milgram/project/gee_dylan/candlab/analyses/shapes/dwi/data/1_Check_Unwarped/sub-A459/sub-A459_ses-shapesV1_T1w_flirt_brain.nii.gz
210311-18:41:53,250 nipype.interface DEBUG:
	 out_file_T1s_5tt_segmented.nii.gz
210311-18:41:55,119 nipype.workflow DEBUG:
	 Progress: 7 jobs, 1/2/0 (done/running/ready), 2/4 (pending_tasks/waiting).
210311-18:41:55,120 nipype.workflow DEBUG:
	 Tasks currently running: 2. Pending: 2.
210311-18:41:55,120 nipype.workflow INFO:
	 [MultiProc] Running 2 tasks, and 0 jobs ready. Free memory (GB): 168.37/168.77, Free processors: 2/4.
                     Currently running:
                       * csd_flow.seg5tt
                       * csd_flow.gradconv
210311-18:42:05,81 nipype.workflow DEBUG:
	 Needed files: /gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A459/gradconv/dwi.mif;/gpfs/milgram/project/gee_dylan/candlab/data/mri/bids_recon/shapes/sub-A459/ses-shapesV1/dwi/sub-A459_ses-shapesV1_dwi.bval;/gpfs/milgram/project/gee_dylan/candlab/analyses/shapes/dwi/data/3_Eddy_Corrected/sub-A459/eddy_corrected.eddy_rotated_bvecs;/gpfs/milgram/project/gee_dylan/candlab/analyses/shapes/dwi/data/3_Eddy_Corrected/sub-A459/eddy_corrected.nii.gz;/gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A459/gradconv/_0x07940ab768eca2d49d2a652d769f8568_unfinished.json;/gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A459/gradconv/command.txt;/gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A459/gradconv/_inputs.pklz;/gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A459/gradconv/_node.pklz
210311-18:42:05,81 nipype.workflow DEBUG:
	 Needed dirs: /gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A459/gradconv/_report
210311-18:42:05,81 nipype.workflow DEBUG:
	 Removing files: 
210311-18:42:05,81 nipype.workflow DEBUG:
	 Saving results file: '/gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A459/gradconv/result_gradconv.pklz'
210311-18:42:05,84 nipype.workflow DEBUG:
	 [Node] Writing post-exec report to "/gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A459/gradconv/_report/report.rst"
210311-18:42:05,85 nipype.workflow INFO:
	 [Node] Finished "csd_flow.gradconv".
210311-18:42:05,124 nipype.workflow INFO:
	 [Job 1] Completed (csd_flow.gradconv).
210311-18:42:05,125 nipype.workflow DEBUG:
	 Tasks currently running: 1. Pending: 1.
210311-18:42:05,126 nipype.workflow INFO:
	 [MultiProc] Running 1 tasks, and 1 jobs ready. Free memory (GB): 168.57/168.77, Free processors: 3/4.
                     Currently running:
                       * csd_flow.seg5tt
210311-18:42:05,230 nipype.workflow DEBUG:
	 Allocating csd_flow.dwiresp ID=2 (0.20GB, 1 threads). Free: 168.37GB, 2 threads.
210311-18:42:05,231 nipype.workflow DEBUG:
	 [Node] Not cached "/gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A459/dwiresp".
210311-18:42:05,231 nipype.workflow DEBUG:
	 Checking hash "csd_flow.dwiresp" locally: cached=False, updated=False.
210311-18:42:05,232 nipype.workflow INFO:
	 [Node] Setting-up "csd_flow.dwiresp" in "/gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A459/dwiresp".
210311-18:42:05,233 nipype.workflow DEBUG:
	 [Node] Not cached "/gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A459/dwiresp".
210311-18:42:05,233 nipype.workflow DEBUG:
	 [Node] Setting 1 connected inputs of node "dwiresp" from 1 previous nodes.
210311-18:42:05,233 nipype.utils DEBUG:
	 Loading pkl: /gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A459/gradconv/result_gradconv.pklz
210311-18:42:05,234 nipype.workflow DEBUG:
	 Resolving paths in outputs loaded from results file.
210311-18:42:05,234 nipype.workflow DEBUG:
	 output: out_file
210311-18:42:05,234 nipype.workflow DEBUG:
	 [Node] dwiresp - setting input in_file = /gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A459/gradconv/dwi.mif
210311-18:42:05,235 nipype.workflow DEBUG:
	 [MultiProc] Submitted task csd_flow.dwiresp (taskid=4).
210311-18:42:05,958 nipype.utils DEBUG:
	 Removing contents of /gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A459/dwiresp
210311-18:42:06,430 nipype.workflow DEBUG:
	 [Node] Writing pre-exec report to "/gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A459/dwiresp/_report/report.rst"
210311-18:42:06,457 nipype.interface DEBUG:
	 algorithm_dhollander
210311-18:42:06,457 nipype.interface DEBUG:
	 csf_file_csf_response.txt
210311-18:42:06,457 nipype.interface DEBUG:
	 gm_file_gm_response.txt
210311-18:42:06,457 nipype.interface DEBUG:
	 in_file_/gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A459/gradconv/dwi.mif
210311-18:42:06,457 nipype.interface DEBUG:
	 max_sh_[0, 2, 4, 4, 8]
210311-18:42:06,457 nipype.interface DEBUG:
	 wm_file_wm_response.txt
210311-18:42:06,458 nipype.workflow INFO:
	 [Node] Running "dwiresp" ("nipype.interfaces.mrtrix3.preprocess.ResponseSD"), a CommandLine Interface with command:
dwi2response dhollander -lmax 0,2,4,4,8 /gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A459/gradconv/dwi.mif wm_response.txt gm_response.txt csf_response.txt
210311-18:42:06,459 nipype.interface DEBUG:
	 algorithm_dhollander
210311-18:42:06,459 nipype.interface DEBUG:
	 csf_file_csf_response.txt
210311-18:42:06,459 nipype.interface DEBUG:
	 gm_file_gm_response.txt
210311-18:42:06,459 nipype.interface DEBUG:
	 in_file_/gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A459/gradconv/dwi.mif
210311-18:42:06,459 nipype.interface DEBUG:
	 max_sh_[0, 2, 4, 4, 8]
210311-18:42:06,459 nipype.interface DEBUG:
	 wm_file_wm_response.txt
210311-18:42:07,125 nipype.workflow DEBUG:
	 Progress: 7 jobs, 2/2/0 (done/running/ready), 2/3 (pending_tasks/waiting).
210311-18:42:07,126 nipype.workflow DEBUG:
	 Tasks currently running: 2. Pending: 2.
210311-18:42:07,126 nipype.workflow INFO:
	 [MultiProc] Running 2 tasks, and 0 jobs ready. Free memory (GB): 168.37/168.77, Free processors: 2/4.
                     Currently running:
                       * csd_flow.dwiresp
                       * csd_flow.seg5tt
210311-18:43:08,195 nipype.workflow DEBUG:
	 Saving results file: '/gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A459/seg5tt/result_seg5tt.pklz'
210311-18:43:08,198 nipype.workflow WARNING:
	 Storing result file without outputs
210311-18:43:08,212 nipype.workflow WARNING:
	 [Node] Error on "csd_flow.seg5tt" (/gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A459/seg5tt)
210311-18:43:08,289 nipype.utils DEBUG:
	 Loading pkl: /gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A459/seg5tt/result_seg5tt.pklz
210311-18:43:09,180 nipype.workflow DEBUG:
	 Clearing 5 from queue
210311-18:43:09,180 nipype.utils DEBUG:
	 Loading pkl: /gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A459/seg5tt/result_seg5tt.pklz
210311-18:43:09,182 nipype.workflow ERROR:
	 Node seg5tt.a0 failed to run on host p09r02n03.milgram.hpc.yale.internal.
210311-18:43:09,182 nipype.workflow ERROR:
	 Saving crash info to /gpfs/milgram/home/lms233/Github/Diffusion/crash-20210311-184309-lms233-seg5tt.a0-4b4eb9cf-b9ee-4c63-8f01-a8447b296cfd.pklz
Traceback (most recent call last):
  File "/gpfs/milgram/pi/gee_dylan/lms233/conda_envs/shapes-dwi3.7/lib/python3.7/site-packages/nipype/pipeline/plugins/multiproc.py", line 67, in run_node
    result["result"] = node.run(updatehash=updatehash)
  File "/gpfs/milgram/pi/gee_dylan/lms233/conda_envs/shapes-dwi3.7/lib/python3.7/site-packages/nipype/pipeline/engine/nodes.py", line 516, in run
    result = self._run_interface(execute=True)
  File "/gpfs/milgram/pi/gee_dylan/lms233/conda_envs/shapes-dwi3.7/lib/python3.7/site-packages/nipype/pipeline/engine/nodes.py", line 635, in _run_interface
    return self._run_command(execute)
  File "/gpfs/milgram/pi/gee_dylan/lms233/conda_envs/shapes-dwi3.7/lib/python3.7/site-packages/nipype/pipeline/engine/nodes.py", line 741, in _run_command
    result = self._interface.run(cwd=outdir)
  File "/gpfs/milgram/pi/gee_dylan/lms233/conda_envs/shapes-dwi3.7/lib/python3.7/site-packages/nipype/interfaces/base/core.py", line 434, in run
    runtime = self._run_interface(runtime)
  File "/gpfs/milgram/pi/gee_dylan/lms233/conda_envs/shapes-dwi3.7/lib/python3.7/site-packages/nipype/interfaces/base/core.py", line 829, in _run_interface
    self.raise_exception(runtime)
  File "/gpfs/milgram/pi/gee_dylan/lms233/conda_envs/shapes-dwi3.7/lib/python3.7/site-packages/nipype/interfaces/base/core.py", line 760, in raise_exception
    ).format(**runtime.dictcopy())
RuntimeError: Command:
5ttgen fsl /gpfs/milgram/project/gee_dylan/candlab/analyses/shapes/dwi/data/1_Check_Unwarped/sub-A459/sub-A459_ses-shapesV1_T1w_flirt_brain.nii.gz T1s_5tt_segmented.nii.gz
Standard output:

Standard error:
5ttgen: 
5ttgen: Note that this script makes use of commands / algorithms that have relevant articles for citation; INCLUDING FROM EXTERNAL SOFTWARE PACKAGES. Please consult the help page (-help option) for more information.
5ttgen: 
5ttgen: Generated temporary directory: /gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A459/seg5tt/5ttgen-tmp-M3HRJE/
Command:  mrconvert /gpfs/milgram/project/gee_dylan/candlab/analyses/shapes/dwi/data/1_Check_Unwarped/sub-A459/sub-A459_ses-shapesV1_T1w_flirt_brain.nii.gz /gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A459/seg5tt/5ttgen-tmp-M3HRJE/input.mif
5ttgen: Changing to temporary directory (/gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A459/seg5tt/5ttgen-tmp-M3HRJE/)
5ttgen: [WARNING] Voxel size larger than expected for T1-weighted images ([1.71429, 1.71429, 1.7]); note that ACT does not require re-gridding of T1 image to DWI space, and indeed retaining the original higher resolution of the T1 image is preferable
Command:  mrconvert input.mif T1.nii -strides -1,+2,+3
Command:  maskfilter /gpfs/milgram/apps/hpc.rhel7/software/FSL/6.0.3-centos7_64/data/standard/MNI152_T1_1mm_brain_mask_dil.nii.gz dilate mni_mask.nii -npass 4
Command:  standard_space_roi T1.nii T1_preBET.nii.gz -maskMASK mni_mask.nii -roiFOV
Command:  bet T1_preBET.nii.gz T1_BET.nii.gz -f 0.15 -R
5ttgen: 
5ttgen: [ERROR] Command failed: bet T1_preBET.nii.gz T1_BET.nii.gz -f 0.15 -R (fsl.py:126)
5ttgen: Output of failed command:
        /gpfs/milgram/apps/hpc.rhel7/software/FSL/6.0.3-centos7_64/bin/bet failed during operation
        /gpfs/milgram/apps/hpc.rhel7/software/FSL/6.0.3-centos7_64/bin/bet: line 401: 104448 Segmentation fault      ${FSLDIR}/bin/bet2 $IN $OUT $bet2opts
5ttgen: 
5ttgen: Changing back to original directory (/gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A459/seg5tt)
5ttgen: Script failed while executing the command: bet T1_preBET.nii.gz T1_BET.nii.gz -f 0.15 -R
5ttgen: For debugging, inspect contents of temporary directory: /gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A459/seg5tt/5ttgen-tmp-M3HRJE/
Return code: 1

210311-18:48:25,320 nipype.workflow DEBUG:
	 Needed files: /gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A459/dwiresp/wm_response.txt;/gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A459/dwiresp/gm_response.txt;/gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A459/dwiresp/csf_response.txt;/gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A459/gradconv/dwi.mif;/gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A459/dwiresp/_0x60606e89f69badee5ccdd94aa9b636af_unfinished.json;/gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A459/dwiresp/command.txt;/gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A459/dwiresp/_inputs.pklz;/gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A459/dwiresp/_node.pklz
210311-18:48:25,321 nipype.workflow DEBUG:
	 Needed dirs: /gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A459/dwiresp/_report
210311-18:48:25,321 nipype.workflow DEBUG:
	 Removing files: 
210311-18:48:25,321 nipype.workflow DEBUG:
	 Saving results file: '/gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A459/dwiresp/result_dwiresp.pklz'
210311-18:48:25,324 nipype.workflow DEBUG:
	 [Node] Writing post-exec report to "/gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A459/dwiresp/_report/report.rst"
210311-18:48:25,325 nipype.workflow INFO:
	 [Node] Finished "csd_flow.dwiresp".
Traceback (most recent call last):
  File "/home/lms233/Github/Diffusion/3_Deconvolution_Pipeline.py", line 160, in <module>
    dwi = csd_flow.run('MultiProc', plugin_args={'n_procs': 4})
  File "/gpfs/milgram/pi/gee_dylan/lms233/conda_envs/shapes-dwi3.7/lib/python3.7/site-packages/nipype/pipeline/engine/workflows.py", line 632, in run
    runner.run(execgraph, updatehash=updatehash, config=self.config)
  File "/gpfs/milgram/pi/gee_dylan/lms233/conda_envs/shapes-dwi3.7/lib/python3.7/site-packages/nipype/pipeline/plugins/base.py", line 164, in run
    self._clean_queue(jobid, graph, result=result)
  File "/gpfs/milgram/pi/gee_dylan/lms233/conda_envs/shapes-dwi3.7/lib/python3.7/site-packages/nipype/pipeline/plugins/base.py", line 227, in _clean_queue
    raise RuntimeError("".join(result["traceback"]))
RuntimeError: Traceback (most recent call last):
  File "/gpfs/milgram/pi/gee_dylan/lms233/conda_envs/shapes-dwi3.7/lib/python3.7/site-packages/nipype/pipeline/plugins/multiproc.py", line 67, in run_node
    result["result"] = node.run(updatehash=updatehash)
  File "/gpfs/milgram/pi/gee_dylan/lms233/conda_envs/shapes-dwi3.7/lib/python3.7/site-packages/nipype/pipeline/engine/nodes.py", line 516, in run
    result = self._run_interface(execute=True)
  File "/gpfs/milgram/pi/gee_dylan/lms233/conda_envs/shapes-dwi3.7/lib/python3.7/site-packages/nipype/pipeline/engine/nodes.py", line 635, in _run_interface
    return self._run_command(execute)
  File "/gpfs/milgram/pi/gee_dylan/lms233/conda_envs/shapes-dwi3.7/lib/python3.7/site-packages/nipype/pipeline/engine/nodes.py", line 741, in _run_command
    result = self._interface.run(cwd=outdir)
  File "/gpfs/milgram/pi/gee_dylan/lms233/conda_envs/shapes-dwi3.7/lib/python3.7/site-packages/nipype/interfaces/base/core.py", line 434, in run
    runtime = self._run_interface(runtime)
  File "/gpfs/milgram/pi/gee_dylan/lms233/conda_envs/shapes-dwi3.7/lib/python3.7/site-packages/nipype/interfaces/base/core.py", line 829, in _run_interface
    self.raise_exception(runtime)
  File "/gpfs/milgram/pi/gee_dylan/lms233/conda_envs/shapes-dwi3.7/lib/python3.7/site-packages/nipype/interfaces/base/core.py", line 760, in raise_exception
    ).format(**runtime.dictcopy())
RuntimeError: Command:
5ttgen fsl /gpfs/milgram/project/gee_dylan/candlab/analyses/shapes/dwi/data/1_Check_Unwarped/sub-A459/sub-A459_ses-shapesV1_T1w_flirt_brain.nii.gz T1s_5tt_segmented.nii.gz
Standard output:

Standard error:
5ttgen: 
5ttgen: Note that this script makes use of commands / algorithms that have relevant articles for citation; INCLUDING FROM EXTERNAL SOFTWARE PACKAGES. Please consult the help page (-help option) for more information.
5ttgen: 
5ttgen: Generated temporary directory: /gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A459/seg5tt/5ttgen-tmp-M3HRJE/
Command:  mrconvert /gpfs/milgram/project/gee_dylan/candlab/analyses/shapes/dwi/data/1_Check_Unwarped/sub-A459/sub-A459_ses-shapesV1_T1w_flirt_brain.nii.gz /gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A459/seg5tt/5ttgen-tmp-M3HRJE/input.mif
5ttgen: Changing to temporary directory (/gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A459/seg5tt/5ttgen-tmp-M3HRJE/)
5ttgen: [WARNING] Voxel size larger than expected for T1-weighted images ([1.71429, 1.71429, 1.7]); note that ACT does not require re-gridding of T1 image to DWI space, and indeed retaining the original higher resolution of the T1 image is preferable
Command:  mrconvert input.mif T1.nii -strides -1,+2,+3
Command:  maskfilter /gpfs/milgram/apps/hpc.rhel7/software/FSL/6.0.3-centos7_64/data/standard/MNI152_T1_1mm_brain_mask_dil.nii.gz dilate mni_mask.nii -npass 4
Command:  standard_space_roi T1.nii T1_preBET.nii.gz -maskMASK mni_mask.nii -roiFOV
Command:  bet T1_preBET.nii.gz T1_BET.nii.gz -f 0.15 -R
5ttgen: 
5ttgen: [ERROR] Command failed: bet T1_preBET.nii.gz T1_BET.nii.gz -f 0.15 -R (fsl.py:126)
5ttgen: Output of failed command:
        /gpfs/milgram/apps/hpc.rhel7/software/FSL/6.0.3-centos7_64/bin/bet failed during operation
        /gpfs/milgram/apps/hpc.rhel7/software/FSL/6.0.3-centos7_64/bin/bet: line 401: 104448 Segmentation fault      ${FSLDIR}/bin/bet2 $IN $OUT $bet2opts
5ttgen: 
5ttgen: Changing back to original directory (/gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A459/seg5tt)
5ttgen: Script failed while executing the command: bet T1_preBET.nii.gz T1_BET.nii.gz -f 0.15 -R
5ttgen: For debugging, inspect contents of temporary directory: /gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A459/seg5tt/5ttgen-tmp-M3HRJE/
Return code: 1

