Source the FSL configuration script using:
     . /gpfs/milgram/apps/hpc.rhel7/software/FSL/6.0.3-centos7_64/etc/fslconf/fsl.sh To use FSLeyes GUI, load the separate FSLeyes module.
Source the FSL configuration script using:
     . /gpfs/milgram/apps/hpc.rhel7/software/FSL/6.0.3-centos7_64/etc/fslconf/fsl.sh To use FSLeyes GUI, load the separate FSLeyes module.
Source the FSL configuration script using:
     . /gpfs/milgram/apps/hpc.rhel7/software/FSL/6.0.3-centos7_64/etc/fslconf/fsl.sh To use FSLeyes GUI, load the separate FSLeyes module.
Source the FSL configuration script using:
     . /gpfs/milgram/apps/hpc.rhel7/software/FSL/6.0.3-centos7_64/etc/fslconf/fsl.sh To use FSLeyes GUI, load the separate FSLeyes module.
210311-18:41:45,827 nipype.utils DEBUG:
	 Running a newer version (1.6.0) of nipy/nipype than available (1.5.1)
210311-18:41:46,538 nipype.workflow DEBUG:
	 (csd_flow.infosource, csd_flow.sf): No edge data
210311-18:41:46,538 nipype.workflow DEBUG:
	 (csd_flow.infosource, csd_flow.sf): new edge data: {'connect': [('subject_id', 'subject_id')]}
210311-18:41:46,538 nipype.workflow DEBUG:
	 (csd_flow.sf, csd_flow.seg5tt): No edge data
210311-18:41:46,538 nipype.workflow DEBUG:
	 (csd_flow.sf, csd_flow.seg5tt): new edge data: {'connect': [('t1', 'in_file')]}
210311-18:41:46,539 nipype.workflow DEBUG:
	 (csd_flow.seg5tt, csd_flow.datasink): No edge data
210311-18:41:46,539 nipype.workflow DEBUG:
	 (csd_flow.seg5tt, csd_flow.datasink): new edge data: {'connect': [('out_file', '5_Tract_Reconstruction')]}
210311-18:41:46,539 nipype.workflow DEBUG:
	 (csd_flow.sf, csd_flow.gradconv): No edge data
210311-18:41:46,539 nipype.workflow DEBUG:
	 (csd_flow.sf, csd_flow.gradconv): new edge data: {'connect': [('dti', 'in_file'), ('bval', 'in_bval'), ('bvec', 'in_bvec')]}
210311-18:41:46,539 nipype.workflow DEBUG:
	 (csd_flow.gradconv, csd_flow.dwiresp): No edge data
210311-18:41:46,539 nipype.workflow DEBUG:
	 (csd_flow.gradconv, csd_flow.dwiresp): new edge data: {'connect': [('out_file', 'in_file')]}
210311-18:41:46,539 nipype.workflow DEBUG:
	 (csd_flow.dwiresp, csd_flow.datasink): No edge data
210311-18:41:46,539 nipype.workflow DEBUG:
	 (csd_flow.dwiresp, csd_flow.datasink): new edge data: {'connect': [('wm_file', '4_Deconvolution.@par'), ('gm_file', '4_Deconvolution.@par.@par'), ('csf_file', '4_Deconvolution.@par.@par.@par')]}
210311-18:41:46,539 nipype.workflow DEBUG:
	 (csd_flow.gradconv, csd_flow.mscsd): No edge data
210311-18:41:46,539 nipype.workflow DEBUG:
	 (csd_flow.gradconv, csd_flow.mscsd): new edge data: {'connect': [('out_file', 'in_file')]}
210311-18:41:46,539 nipype.workflow DEBUG:
	 (csd_flow.dwiresp, csd_flow.mscsd): No edge data
210311-18:41:46,539 nipype.workflow DEBUG:
	 (csd_flow.dwiresp, csd_flow.mscsd): new edge data: {'connect': [('wm_file', 'wm_txt'), ('gm_file', 'gm_txt'), ('csf_file', 'csf_txt')]}
210311-18:41:46,539 nipype.workflow DEBUG:
	 (csd_flow.mscsd, csd_flow.tract): No edge data
210311-18:41:46,539 nipype.workflow DEBUG:
	 (csd_flow.mscsd, csd_flow.tract): new edge data: {'connect': [('wm_odf', 'in_file')]}
210311-18:41:46,539 nipype.workflow DEBUG:
	 (csd_flow.mscsd, csd_flow.datasink): No edge data
210311-18:41:46,539 nipype.workflow DEBUG:
	 (csd_flow.mscsd, csd_flow.datasink): new edge data: {'connect': [('wm_odf', '4_Deconvolution.@par.@par.@par.@par'), ('gm_odf', '4_Deconvolution.@par.@par.@par.@par.@par'), ('csf_odf', '4_Deconvolution.@par.@par.@par.@par.@par.@par')]}
210311-18:41:46,539 nipype.workflow DEBUG:
	 (csd_flow.gradconv, csd_flow.datasink): No edge data
210311-18:41:46,539 nipype.workflow DEBUG:
	 (csd_flow.gradconv, csd_flow.datasink): new edge data: {'connect': [('out_file', '4_Deconvolution.@par.@par.@par.@par.@par.@par.@par')]}
210311-18:41:46,540 nipype.workflow DEBUG:
	 Creating flat graph for workflow: csd_flow
210311-18:41:46,545 nipype.workflow DEBUG:
	 expanding workflow: csd_flow
210311-18:41:46,545 nipype.workflow DEBUG:
	 processing node: csd_flow.infosource
210311-18:41:46,551 nipype.workflow DEBUG:
	 processing node: csd_flow.sf
210311-18:41:46,551 nipype.workflow DEBUG:
	 processing node: csd_flow.gradconv
210311-18:41:46,551 nipype.workflow DEBUG:
	 processing node: csd_flow.dwiresp
210311-18:41:46,551 nipype.workflow DEBUG:
	 processing node: csd_flow.mscsd
210311-18:41:46,551 nipype.workflow DEBUG:
	 processing node: csd_flow.tract
210311-18:41:46,551 nipype.workflow DEBUG:
	 processing node: csd_flow.seg5tt
210311-18:41:46,551 nipype.workflow DEBUG:
	 processing node: csd_flow.datasink
210311-18:41:46,551 nipype.workflow DEBUG:
	 finished expanding workflow: csd_flow
210311-18:41:46,555 nipype.workflow DEBUG:
	 using input graph
210311-18:41:52,764 nipype.workflow DEBUG:
	 creating dot graph
210311-18:41:55,853 nipype.workflow INFO:
	 Generated workflow graph: /gpfs/milgram/project/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/graph.png (graph2use=flat, simple_form=True).
210311-18:41:56,560 nipype.workflow DEBUG:
	 [MultiProc] Starting (n_procs=4, mem_gb=168.77, cwd=/gpfs/milgram/home/lms233/Github/Diffusion)
210311-18:41:56,561 nipype.workflow DEBUG:
	 Creating flat graph for workflow: csd_flow
210311-18:41:56,564 nipype.workflow DEBUG:
	 expanding workflow: csd_flow
210311-18:41:56,564 nipype.workflow DEBUG:
	 processing node: csd_flow.infosource
210311-18:41:56,564 nipype.workflow DEBUG:
	 processing node: csd_flow.sf
210311-18:41:56,564 nipype.workflow DEBUG:
	 processing node: csd_flow.gradconv
210311-18:41:56,564 nipype.workflow DEBUG:
	 processing node: csd_flow.dwiresp
210311-18:41:56,564 nipype.workflow DEBUG:
	 processing node: csd_flow.mscsd
210311-18:41:56,564 nipype.workflow DEBUG:
	 processing node: csd_flow.tract
210311-18:41:56,564 nipype.workflow DEBUG:
	 processing node: csd_flow.seg5tt
210311-18:41:56,564 nipype.workflow DEBUG:
	 processing node: csd_flow.datasink
210311-18:41:56,564 nipype.workflow DEBUG:
	 finished expanding workflow: csd_flow
210311-18:41:56,565 nipype.workflow INFO:
	 Workflow csd_flow settings: ['check', 'execution', 'logging', 'monitoring']
210311-18:41:56,567 nipype.workflow DEBUG:
	 PE: expanding iterables
210311-18:41:56,568 nipype.workflow DEBUG:
	 Detected iterable nodes [csd_flow.infosource]
210311-18:41:56,568 nipype.workflow DEBUG:
	 Expanding the iterable node csd_flow.infosource...
210311-18:41:56,568 nipype.workflow DEBUG:
	 node: csd_flow.infosource iterables: {'subject_id': <function _standardize_iterables.<locals>.make_field_func.<locals>.<lambda> at 0x2b28a67a05f0>}
210311-18:41:56,569 nipype.workflow DEBUG:
	 ('subnodes:', [csd_flow.infosource, csd_flow.sf, csd_flow.seg5tt, csd_flow.datasink, csd_flow.gradconv, csd_flow.dwiresp, csd_flow.mscsd, csd_flow.tract])
210311-18:41:56,571 nipype.workflow DEBUG:
	 [Node] infosource - setting input subject_id = sub-A279
210311-18:41:56,572 nipype.workflow DEBUG:
	 Parameterization: paramstr=_subject_id_sub-A279
210311-18:41:56,572 nipype.workflow DEBUG:
	 PE: expanding iterables ... done
210311-18:41:56,572 nipype.workflow DEBUG:
	 [Node] sf - setting input subject_id = sub-A279
210311-18:41:56,572 nipype.workflow DEBUG:
	 Removed the identity node csd_flow.infosource from the graph.
210311-18:41:57,685 nipype.workflow DEBUG:
	 Performing depth first search
210311-18:41:57,720 nipype.workflow INFO:
	 Running in parallel.
210311-18:41:57,723 nipype.workflow DEBUG:
	 Progress: 7 jobs, 0/0/1 (done/running/ready), 0/7 (pending_tasks/waiting).
210311-18:41:57,723 nipype.workflow DEBUG:
	 Tasks currently running: 0. Pending: 0.
210311-18:41:57,724 nipype.workflow INFO:
	 [MultiProc] Running 0 tasks, and 1 jobs ready. Free memory (GB): 168.77/168.77, Free processors: 4/4.
210311-18:41:57,790 nipype.workflow DEBUG:
	 Allocating csd_flow.sf ID=0 (0.20GB, 1 threads). Free: 168.57GB, 3 threads.
210311-18:41:57,805 nipype.workflow DEBUG:
	 [Node] Not cached "/gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A279/sf".
210311-18:41:57,805 nipype.workflow DEBUG:
	 Checking hash "csd_flow.sf" locally: cached=False, updated=False.
210311-18:41:57,849 nipype.workflow DEBUG:
	 [MultiProc] Submitted task csd_flow.sf (taskid=1).
210311-18:41:57,855 nipype.workflow INFO:
	 [Node] Setting-up "csd_flow.sf" in "/gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A279/sf".
210311-18:41:57,959 nipype.workflow DEBUG:
	 [Node] Not cached "/gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A279/sf".
210311-18:41:57,961 nipype.utils DEBUG:
	 Removing contents of /gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A279/sf
210311-18:41:58,333 nipype.workflow DEBUG:
	 [Node] Writing pre-exec report to "/gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A279/sf/_report/report.rst"
210311-18:41:58,340 nipype.workflow INFO:
	 [Node] Running "sf" ("nipype.interfaces.io.SelectFiles")
210311-18:41:58,384 nipype.workflow DEBUG:
	 Needed files: /gpfs/milgram/project/gee_dylan/candlab/analyses/shapes/dwi/data/3_Eddy_Corrected/sub-A279/eddy_corrected.nii.gz;/gpfs/milgram/project/gee_dylan/candlab/data/mri/bids_recon/shapes/sub-A279/ses-shapesV1/dwi/sub-A279_ses-shapesV1_dwi.bval;/gpfs/milgram/project/gee_dylan/candlab/analyses/shapes/dwi/data/3_Eddy_Corrected/sub-A279/eddy_corrected.eddy_rotated_bvecs;/gpfs/milgram/project/gee_dylan/candlab/analyses/shapes/dwi/data/1_Check_Unwarped/sub-A279/sub-A279_ses-shapesV1_T1w_flirt_brain.nii.gz;/gpfs/milgram/project/gee_dylan/candlab/atlases/MNI152_T1_2mm_brain.nii.gz;/gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A279/sf/_0x6089ed9d992d4fcd64c209f2e1d54029_unfinished.json;/gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A279/sf/_inputs.pklz;/gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A279/sf/_node.pklz
210311-18:41:58,384 nipype.workflow DEBUG:
	 Needed dirs: /gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A279/sf/_report
210311-18:41:58,385 nipype.workflow DEBUG:
	 Removing files: 
210311-18:41:58,385 nipype.workflow DEBUG:
	 Saving results file: '/gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A279/sf/result_sf.pklz'
210311-18:41:58,403 nipype.workflow DEBUG:
	 [Node] Writing post-exec report to "/gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A279/sf/_report/report.rst"
210311-18:41:58,405 nipype.workflow INFO:
	 [Node] Finished "csd_flow.sf".
210311-18:41:59,729 nipype.workflow DEBUG:
	 Progress: 7 jobs, 0/1/0 (done/running/ready), 1/6 (pending_tasks/waiting).
210311-18:41:59,729 nipype.workflow INFO:
	 [Job 0] Completed (csd_flow.sf).
210311-18:41:59,732 nipype.workflow DEBUG:
	 Tasks currently running: 0. Pending: 0.
210311-18:41:59,733 nipype.workflow INFO:
	 [MultiProc] Running 0 tasks, and 2 jobs ready. Free memory (GB): 168.77/168.77, Free processors: 4/4.
210311-18:41:59,836 nipype.workflow DEBUG:
	 Allocating csd_flow.gradconv ID=1 (0.20GB, 1 threads). Free: 168.57GB, 3 threads.
210311-18:41:59,836 nipype.workflow DEBUG:
	 [Node] Not cached "/gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A279/gradconv".
210311-18:41:59,836 nipype.workflow DEBUG:
	 Checking hash "csd_flow.gradconv" locally: cached=False, updated=False.
210311-18:41:59,840 nipype.workflow INFO:
	 [Node] Setting-up "csd_flow.gradconv" in "/gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A279/gradconv".
210311-18:41:59,841 nipype.workflow DEBUG:
	 [Node] Not cached "/gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A279/gradconv".
210311-18:41:59,841 nipype.workflow DEBUG:
	 [Node] Setting 3 connected inputs of node "gradconv" from 1 previous nodes.
210311-18:41:59,842 nipype.utils DEBUG:
	 Loading pkl: /gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A279/sf/result_sf.pklz
210311-18:41:59,846 nipype.workflow DEBUG:
	 Resolving paths in outputs loaded from results file.
210311-18:41:59,846 nipype.workflow DEBUG:
	 output: dti
210311-18:41:59,846 nipype.workflow DEBUG:
	 [Node] gradconv - setting input in_file = /gpfs/milgram/project/gee_dylan/candlab/analyses/shapes/dwi/data/3_Eddy_Corrected/sub-A279/eddy_corrected.nii.gz
210311-18:41:59,847 nipype.workflow DEBUG:
	 output: bval
210311-18:41:59,847 nipype.workflow DEBUG:
	 [Node] gradconv - setting input in_bval = /gpfs/milgram/project/gee_dylan/candlab/data/mri/bids_recon/shapes/sub-A279/ses-shapesV1/dwi/sub-A279_ses-shapesV1_dwi.bval
210311-18:41:59,847 nipype.workflow DEBUG:
	 output: bvec
210311-18:41:59,847 nipype.workflow DEBUG:
	 [Node] gradconv - setting input in_bvec = /gpfs/milgram/project/gee_dylan/candlab/analyses/shapes/dwi/data/3_Eddy_Corrected/sub-A279/eddy_corrected.eddy_rotated_bvecs
210311-18:41:59,847 nipype.workflow DEBUG:
	 [MultiProc] Submitted task csd_flow.gradconv (taskid=2).
210311-18:41:59,847 nipype.workflow DEBUG:
	 Allocating csd_flow.seg5tt ID=5 (0.20GB, 1 threads). Free: 168.37GB, 2 threads.
210311-18:41:59,864 nipype.workflow DEBUG:
	 [Node] Not cached "/gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A279/seg5tt".
210311-18:41:59,865 nipype.workflow DEBUG:
	 Checking hash "csd_flow.seg5tt" locally: cached=False, updated=False.
210311-18:41:59,868 nipype.workflow INFO:
	 [Node] Setting-up "csd_flow.seg5tt" in "/gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A279/seg5tt".
210311-18:41:59,869 nipype.workflow DEBUG:
	 [Node] Not cached "/gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A279/seg5tt".
210311-18:41:59,869 nipype.workflow DEBUG:
	 [Node] Setting 1 connected inputs of node "seg5tt" from 1 previous nodes.
210311-18:41:59,870 nipype.utils DEBUG:
	 Loading pkl: /gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A279/sf/result_sf.pklz
210311-18:41:59,873 nipype.workflow DEBUG:
	 Resolving paths in outputs loaded from results file.
210311-18:41:59,874 nipype.workflow DEBUG:
	 output: t1
210311-18:41:59,874 nipype.workflow DEBUG:
	 [Node] seg5tt - setting input in_file = /gpfs/milgram/project/gee_dylan/candlab/analyses/shapes/dwi/data/1_Check_Unwarped/sub-A279/sub-A279_ses-shapesV1_T1w_flirt_brain.nii.gz
210311-18:41:59,875 nipype.utils DEBUG:
	 Removing contents of /gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A279/seg5tt
210311-18:41:59,875 nipype.workflow DEBUG:
	 [MultiProc] Submitted task csd_flow.seg5tt (taskid=3).
210311-18:41:59,882 nipype.workflow DEBUG:
	 [Node] Writing pre-exec report to "/gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A279/seg5tt/_report/report.rst"
210311-18:41:59,895 nipype.utils DEBUG:
	 Removing contents of /gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A279/gradconv
210311-18:41:59,899 nipype.interface DEBUG:
	 algorithm_fsl
210311-18:41:59,899 nipype.interface DEBUG:
	 in_file_/gpfs/milgram/project/gee_dylan/candlab/analyses/shapes/dwi/data/1_Check_Unwarped/sub-A279/sub-A279_ses-shapesV1_T1w_flirt_brain.nii.gz
210311-18:41:59,899 nipype.interface DEBUG:
	 out_file_T1s_5tt_segmented.nii.gz
210311-18:41:59,900 nipype.workflow DEBUG:
	 [Node] Writing pre-exec report to "/gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A279/gradconv/_report/report.rst"
210311-18:41:59,900 nipype.workflow INFO:
	 [Node] Running "seg5tt" ("nipype.interfaces.mrtrix3.utils.Generate5tt"), a CommandLine Interface with command:
5ttgen fsl /gpfs/milgram/project/gee_dylan/candlab/analyses/shapes/dwi/data/1_Check_Unwarped/sub-A279/sub-A279_ses-shapesV1_T1w_flirt_brain.nii.gz T1s_5tt_segmented.nii.gz
210311-18:41:59,902 nipype.interface DEBUG:
	 algorithm_fsl
210311-18:41:59,902 nipype.interface DEBUG:
	 in_file_/gpfs/milgram/project/gee_dylan/candlab/analyses/shapes/dwi/data/1_Check_Unwarped/sub-A279/sub-A279_ses-shapesV1_T1w_flirt_brain.nii.gz
210311-18:41:59,902 nipype.interface DEBUG:
	 out_file_T1s_5tt_segmented.nii.gz
210311-18:41:59,937 nipype.interface DEBUG:
	 in_file_/gpfs/milgram/project/gee_dylan/candlab/analyses/shapes/dwi/data/3_Eddy_Corrected/sub-A279/eddy_corrected.nii.gz
210311-18:41:59,937 nipype.interface DEBUG:
	 out_file_dwi.mif
210311-18:41:59,938 nipype.workflow INFO:
	 [Node] Running "gradconv" ("nipype.interfaces.mrtrix3.utils.MRConvert"), a CommandLine Interface with command:
mrconvert -fslgrad /gpfs/milgram/project/gee_dylan/candlab/analyses/shapes/dwi/data/3_Eddy_Corrected/sub-A279/eddy_corrected.eddy_rotated_bvecs /gpfs/milgram/project/gee_dylan/candlab/data/mri/bids_recon/shapes/sub-A279/ses-shapesV1/dwi/sub-A279_ses-shapesV1_dwi.bval /gpfs/milgram/project/gee_dylan/candlab/analyses/shapes/dwi/data/3_Eddy_Corrected/sub-A279/eddy_corrected.nii.gz dwi.mif
210311-18:41:59,942 nipype.interface DEBUG:
	 in_file_/gpfs/milgram/project/gee_dylan/candlab/analyses/shapes/dwi/data/3_Eddy_Corrected/sub-A279/eddy_corrected.nii.gz
210311-18:41:59,942 nipype.interface DEBUG:
	 out_file_dwi.mif
210311-18:42:01,728 nipype.workflow DEBUG:
	 Progress: 7 jobs, 1/2/0 (done/running/ready), 2/4 (pending_tasks/waiting).
210311-18:42:01,728 nipype.workflow DEBUG:
	 Tasks currently running: 2. Pending: 2.
210311-18:42:01,728 nipype.workflow INFO:
	 [MultiProc] Running 2 tasks, and 0 jobs ready. Free memory (GB): 168.37/168.77, Free processors: 2/4.
                     Currently running:
                       * csd_flow.seg5tt
                       * csd_flow.gradconv
210311-18:42:13,161 nipype.workflow DEBUG:
	 Needed files: /gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A279/gradconv/dwi.mif;/gpfs/milgram/project/gee_dylan/candlab/data/mri/bids_recon/shapes/sub-A279/ses-shapesV1/dwi/sub-A279_ses-shapesV1_dwi.bval;/gpfs/milgram/project/gee_dylan/candlab/analyses/shapes/dwi/data/3_Eddy_Corrected/sub-A279/eddy_corrected.eddy_rotated_bvecs;/gpfs/milgram/project/gee_dylan/candlab/analyses/shapes/dwi/data/3_Eddy_Corrected/sub-A279/eddy_corrected.nii.gz;/gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A279/gradconv/_0x1a35b7eb1172fb7a4d637f7a8eeb33f6_unfinished.json;/gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A279/gradconv/command.txt;/gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A279/gradconv/_inputs.pklz;/gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A279/gradconv/_node.pklz
210311-18:42:13,416 nipype.workflow DEBUG:
	 Needed dirs: /gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A279/gradconv/_report
210311-18:42:13,424 nipype.workflow DEBUG:
	 Removing files: 
210311-18:42:13,433 nipype.workflow DEBUG:
	 Saving results file: '/gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A279/gradconv/result_gradconv.pklz'
210311-18:42:14,285 nipype.workflow DEBUG:
	 [Node] Writing post-exec report to "/gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A279/gradconv/_report/report.rst"
210311-18:42:14,338 nipype.workflow INFO:
	 [Node] Finished "csd_flow.gradconv".
210311-18:42:15,735 nipype.workflow INFO:
	 [Job 1] Completed (csd_flow.gradconv).
210311-18:42:15,743 nipype.workflow DEBUG:
	 Tasks currently running: 1. Pending: 1.
210311-18:42:15,753 nipype.workflow INFO:
	 [MultiProc] Running 1 tasks, and 1 jobs ready. Free memory (GB): 168.57/168.77, Free processors: 3/4.
                     Currently running:
                       * csd_flow.seg5tt
210311-18:42:15,867 nipype.workflow DEBUG:
	 Allocating csd_flow.dwiresp ID=2 (0.20GB, 1 threads). Free: 168.37GB, 2 threads.
210311-18:42:15,899 nipype.workflow DEBUG:
	 [Node] Not cached "/gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A279/dwiresp".
210311-18:42:15,909 nipype.workflow DEBUG:
	 Checking hash "csd_flow.dwiresp" locally: cached=False, updated=False.
210311-18:42:15,918 nipype.workflow DEBUG:
	 [MultiProc] Submitted task csd_flow.dwiresp (taskid=4).
210311-18:42:15,919 nipype.workflow INFO:
	 [Node] Setting-up "csd_flow.dwiresp" in "/gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A279/dwiresp".
210311-18:42:15,960 nipype.workflow DEBUG:
	 [Node] Not cached "/gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A279/dwiresp".
210311-18:42:15,968 nipype.workflow DEBUG:
	 [Node] Setting 1 connected inputs of node "dwiresp" from 1 previous nodes.
210311-18:42:16,1 nipype.utils DEBUG:
	 Loading pkl: /gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A279/gradconv/result_gradconv.pklz
210311-18:42:16,235 nipype.workflow DEBUG:
	 Resolving paths in outputs loaded from results file.
210311-18:42:16,292 nipype.workflow DEBUG:
	 output: out_file
210311-18:42:16,300 nipype.workflow DEBUG:
	 [Node] dwiresp - setting input in_file = /gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A279/gradconv/dwi.mif
210311-18:42:16,490 nipype.utils DEBUG:
	 Removing contents of /gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A279/dwiresp
210311-18:42:16,645 nipype.workflow DEBUG:
	 [Node] Writing pre-exec report to "/gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A279/dwiresp/_report/report.rst"
210311-18:42:16,998 nipype.interface DEBUG:
	 algorithm_dhollander
210311-18:42:17,8 nipype.interface DEBUG:
	 csf_file_csf_response.txt
210311-18:42:17,16 nipype.interface DEBUG:
	 gm_file_gm_response.txt
210311-18:42:17,26 nipype.interface DEBUG:
	 in_file_/gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A279/gradconv/dwi.mif
210311-18:42:17,35 nipype.interface DEBUG:
	 max_sh_[0, 2, 4, 4, 8]
210311-18:42:17,43 nipype.interface DEBUG:
	 wm_file_wm_response.txt
210311-18:42:17,100 nipype.workflow INFO:
	 [Node] Running "dwiresp" ("nipype.interfaces.mrtrix3.preprocess.ResponseSD"), a CommandLine Interface with command:
dwi2response dhollander -lmax 0,2,4,4,8 /gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A279/gradconv/dwi.mif wm_response.txt gm_response.txt csf_response.txt
210311-18:42:17,132 nipype.interface DEBUG:
	 algorithm_dhollander
210311-18:42:17,151 nipype.interface DEBUG:
	 csf_file_csf_response.txt
210311-18:42:17,162 nipype.interface DEBUG:
	 gm_file_gm_response.txt
210311-18:42:17,170 nipype.interface DEBUG:
	 in_file_/gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A279/gradconv/dwi.mif
210311-18:42:17,179 nipype.interface DEBUG:
	 max_sh_[0, 2, 4, 4, 8]
210311-18:42:17,188 nipype.interface DEBUG:
	 wm_file_wm_response.txt
210311-18:42:17,736 nipype.workflow DEBUG:
	 Progress: 7 jobs, 2/2/0 (done/running/ready), 2/3 (pending_tasks/waiting).
210311-18:42:17,744 nipype.workflow DEBUG:
	 Tasks currently running: 2. Pending: 2.
210311-18:42:17,754 nipype.workflow INFO:
	 [MultiProc] Running 2 tasks, and 0 jobs ready. Free memory (GB): 168.37/168.77, Free processors: 2/4.
                     Currently running:
                       * csd_flow.dwiresp
                       * csd_flow.seg5tt
210311-18:43:09,937 nipype.workflow DEBUG:
	 Saving results file: '/gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A279/seg5tt/result_seg5tt.pklz'
210311-18:43:10,104 nipype.workflow WARNING:
	 Storing result file without outputs
210311-18:43:10,108 nipype.workflow WARNING:
	 [Node] Error on "csd_flow.seg5tt" (/gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A279/seg5tt)
210311-18:43:10,113 nipype.utils DEBUG:
	 Loading pkl: /gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A279/seg5tt/result_seg5tt.pklz
210311-18:43:11,787 nipype.workflow DEBUG:
	 Clearing 5 from queue
210311-18:43:11,789 nipype.utils DEBUG:
	 Loading pkl: /gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A279/seg5tt/result_seg5tt.pklz
210311-18:43:11,791 nipype.workflow ERROR:
	 Node seg5tt.a0 failed to run on host p09r03n54.milgram.hpc.yale.internal.
210311-18:43:11,799 nipype.workflow ERROR:
	 Saving crash info to /gpfs/milgram/home/lms233/Github/Diffusion/crash-20210311-184311-lms233-seg5tt.a0-4144993e-fec9-4b22-a3b4-28828335d6ef.pklz
Traceback (most recent call last):
  File "/gpfs/milgram/pi/gee_dylan/lms233/conda_envs/shapes-dwi3.7/lib/python3.7/site-packages/nipype/pipeline/plugins/multiproc.py", line 67, in run_node
    result["result"] = node.run(updatehash=updatehash)
  File "/gpfs/milgram/pi/gee_dylan/lms233/conda_envs/shapes-dwi3.7/lib/python3.7/site-packages/nipype/pipeline/engine/nodes.py", line 516, in run
    result = self._run_interface(execute=True)
  File "/gpfs/milgram/pi/gee_dylan/lms233/conda_envs/shapes-dwi3.7/lib/python3.7/site-packages/nipype/pipeline/engine/nodes.py", line 635, in _run_interface
    return self._run_command(execute)
  File "/gpfs/milgram/pi/gee_dylan/lms233/conda_envs/shapes-dwi3.7/lib/python3.7/site-packages/nipype/pipeline/engine/nodes.py", line 741, in _run_command
    result = self._interface.run(cwd=outdir)
  File "/gpfs/milgram/pi/gee_dylan/lms233/conda_envs/shapes-dwi3.7/lib/python3.7/site-packages/nipype/interfaces/base/core.py", line 434, in run
    runtime = self._run_interface(runtime)
  File "/gpfs/milgram/pi/gee_dylan/lms233/conda_envs/shapes-dwi3.7/lib/python3.7/site-packages/nipype/interfaces/base/core.py", line 829, in _run_interface
    self.raise_exception(runtime)
  File "/gpfs/milgram/pi/gee_dylan/lms233/conda_envs/shapes-dwi3.7/lib/python3.7/site-packages/nipype/interfaces/base/core.py", line 760, in raise_exception
    ).format(**runtime.dictcopy())
RuntimeError: Command:
5ttgen fsl /gpfs/milgram/project/gee_dylan/candlab/analyses/shapes/dwi/data/1_Check_Unwarped/sub-A279/sub-A279_ses-shapesV1_T1w_flirt_brain.nii.gz T1s_5tt_segmented.nii.gz
Standard output:

Standard error:
5ttgen: 
5ttgen: Note that this script makes use of commands / algorithms that have relevant articles for citation; INCLUDING FROM EXTERNAL SOFTWARE PACKAGES. Please consult the help page (-help option) for more information.
5ttgen: 
5ttgen: Generated temporary directory: /gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A279/seg5tt/5ttgen-tmp-048N34/
Command:  mrconvert /gpfs/milgram/project/gee_dylan/candlab/analyses/shapes/dwi/data/1_Check_Unwarped/sub-A279/sub-A279_ses-shapesV1_T1w_flirt_brain.nii.gz /gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A279/seg5tt/5ttgen-tmp-048N34/input.mif
5ttgen: Changing to temporary directory (/gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A279/seg5tt/5ttgen-tmp-048N34/)
5ttgen: [WARNING] Voxel size larger than expected for T1-weighted images ([1.71429, 1.71429, 1.7]); note that ACT does not require re-gridding of T1 image to DWI space, and indeed retaining the original higher resolution of the T1 image is preferable
Command:  mrconvert input.mif T1.nii -strides -1,+2,+3
Command:  maskfilter /gpfs/milgram/apps/hpc.rhel7/software/FSL/6.0.3-centos7_64/data/standard/MNI152_T1_1mm_brain_mask_dil.nii.gz dilate mni_mask.nii -npass 4
Command:  standard_space_roi T1.nii T1_preBET.nii.gz -maskMASK mni_mask.nii -roiFOV
Command:  bet T1_preBET.nii.gz T1_BET.nii.gz -f 0.15 -R
5ttgen: 
5ttgen: [ERROR] Command failed: bet T1_preBET.nii.gz T1_BET.nii.gz -f 0.15 -R (fsl.py:126)
5ttgen: Output of failed command:
        /gpfs/milgram/apps/hpc.rhel7/software/FSL/6.0.3-centos7_64/bin/bet failed during operation
        /gpfs/milgram/apps/hpc.rhel7/software/FSL/6.0.3-centos7_64/bin/bet: line 401: 157692 Segmentation fault      ${FSLDIR}/bin/bet2 $IN $OUT $bet2opts
5ttgen: 
5ttgen: Changing back to original directory (/gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A279/seg5tt)
5ttgen: Script failed while executing the command: bet T1_preBET.nii.gz T1_BET.nii.gz -f 0.15 -R
5ttgen: For debugging, inspect contents of temporary directory: /gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A279/seg5tt/5ttgen-tmp-048N34/
Return code: 1

210311-18:48:44,289 nipype.workflow DEBUG:
	 Needed files: /gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A279/dwiresp/wm_response.txt;/gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A279/dwiresp/gm_response.txt;/gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A279/dwiresp/csf_response.txt;/gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A279/gradconv/dwi.mif;/gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A279/dwiresp/_0xb07622b93e2853f23333b861fa4ad09f_unfinished.json;/gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A279/dwiresp/command.txt;/gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A279/dwiresp/_inputs.pklz;/gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A279/dwiresp/_node.pklz
210311-18:48:44,290 nipype.workflow DEBUG:
	 Needed dirs: /gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A279/dwiresp/_report
210311-18:48:44,290 nipype.workflow DEBUG:
	 Removing files: 
210311-18:48:44,290 nipype.workflow DEBUG:
	 Saving results file: '/gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A279/dwiresp/result_dwiresp.pklz'
210311-18:48:44,293 nipype.workflow DEBUG:
	 [Node] Writing post-exec report to "/gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A279/dwiresp/_report/report.rst"
210311-18:48:44,294 nipype.workflow INFO:
	 [Node] Finished "csd_flow.dwiresp".
Traceback (most recent call last):
  File "/home/lms233/Github/Diffusion/3_Deconvolution_Pipeline.py", line 160, in <module>
    dwi = csd_flow.run('MultiProc', plugin_args={'n_procs': 4})
  File "/gpfs/milgram/pi/gee_dylan/lms233/conda_envs/shapes-dwi3.7/lib/python3.7/site-packages/nipype/pipeline/engine/workflows.py", line 632, in run
    runner.run(execgraph, updatehash=updatehash, config=self.config)
  File "/gpfs/milgram/pi/gee_dylan/lms233/conda_envs/shapes-dwi3.7/lib/python3.7/site-packages/nipype/pipeline/plugins/base.py", line 164, in run
    self._clean_queue(jobid, graph, result=result)
  File "/gpfs/milgram/pi/gee_dylan/lms233/conda_envs/shapes-dwi3.7/lib/python3.7/site-packages/nipype/pipeline/plugins/base.py", line 227, in _clean_queue
    raise RuntimeError("".join(result["traceback"]))
RuntimeError: Traceback (most recent call last):
  File "/gpfs/milgram/pi/gee_dylan/lms233/conda_envs/shapes-dwi3.7/lib/python3.7/site-packages/nipype/pipeline/plugins/multiproc.py", line 67, in run_node
    result["result"] = node.run(updatehash=updatehash)
  File "/gpfs/milgram/pi/gee_dylan/lms233/conda_envs/shapes-dwi3.7/lib/python3.7/site-packages/nipype/pipeline/engine/nodes.py", line 516, in run
    result = self._run_interface(execute=True)
  File "/gpfs/milgram/pi/gee_dylan/lms233/conda_envs/shapes-dwi3.7/lib/python3.7/site-packages/nipype/pipeline/engine/nodes.py", line 635, in _run_interface
    return self._run_command(execute)
  File "/gpfs/milgram/pi/gee_dylan/lms233/conda_envs/shapes-dwi3.7/lib/python3.7/site-packages/nipype/pipeline/engine/nodes.py", line 741, in _run_command
    result = self._interface.run(cwd=outdir)
  File "/gpfs/milgram/pi/gee_dylan/lms233/conda_envs/shapes-dwi3.7/lib/python3.7/site-packages/nipype/interfaces/base/core.py", line 434, in run
    runtime = self._run_interface(runtime)
  File "/gpfs/milgram/pi/gee_dylan/lms233/conda_envs/shapes-dwi3.7/lib/python3.7/site-packages/nipype/interfaces/base/core.py", line 829, in _run_interface
    self.raise_exception(runtime)
  File "/gpfs/milgram/pi/gee_dylan/lms233/conda_envs/shapes-dwi3.7/lib/python3.7/site-packages/nipype/interfaces/base/core.py", line 760, in raise_exception
    ).format(**runtime.dictcopy())
RuntimeError: Command:
5ttgen fsl /gpfs/milgram/project/gee_dylan/candlab/analyses/shapes/dwi/data/1_Check_Unwarped/sub-A279/sub-A279_ses-shapesV1_T1w_flirt_brain.nii.gz T1s_5tt_segmented.nii.gz
Standard output:

Standard error:
5ttgen: 
5ttgen: Note that this script makes use of commands / algorithms that have relevant articles for citation; INCLUDING FROM EXTERNAL SOFTWARE PACKAGES. Please consult the help page (-help option) for more information.
5ttgen: 
5ttgen: Generated temporary directory: /gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A279/seg5tt/5ttgen-tmp-048N34/
Command:  mrconvert /gpfs/milgram/project/gee_dylan/candlab/analyses/shapes/dwi/data/1_Check_Unwarped/sub-A279/sub-A279_ses-shapesV1_T1w_flirt_brain.nii.gz /gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A279/seg5tt/5ttgen-tmp-048N34/input.mif
5ttgen: Changing to temporary directory (/gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A279/seg5tt/5ttgen-tmp-048N34/)
5ttgen: [WARNING] Voxel size larger than expected for T1-weighted images ([1.71429, 1.71429, 1.7]); note that ACT does not require re-gridding of T1 image to DWI space, and indeed retaining the original higher resolution of the T1 image is preferable
Command:  mrconvert input.mif T1.nii -strides -1,+2,+3
Command:  maskfilter /gpfs/milgram/apps/hpc.rhel7/software/FSL/6.0.3-centos7_64/data/standard/MNI152_T1_1mm_brain_mask_dil.nii.gz dilate mni_mask.nii -npass 4
Command:  standard_space_roi T1.nii T1_preBET.nii.gz -maskMASK mni_mask.nii -roiFOV
Command:  bet T1_preBET.nii.gz T1_BET.nii.gz -f 0.15 -R
5ttgen: 
5ttgen: [ERROR] Command failed: bet T1_preBET.nii.gz T1_BET.nii.gz -f 0.15 -R (fsl.py:126)
5ttgen: Output of failed command:
        /gpfs/milgram/apps/hpc.rhel7/software/FSL/6.0.3-centos7_64/bin/bet failed during operation
        /gpfs/milgram/apps/hpc.rhel7/software/FSL/6.0.3-centos7_64/bin/bet: line 401: 157692 Segmentation fault      ${FSLDIR}/bin/bet2 $IN $OUT $bet2opts
5ttgen: 
5ttgen: Changing back to original directory (/gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A279/seg5tt)
5ttgen: Script failed while executing the command: bet T1_preBET.nii.gz T1_BET.nii.gz -f 0.15 -R
5ttgen: For debugging, inspect contents of temporary directory: /gpfs/milgram/pi/gee_dylan/candlab/analyses/shapes/dwi/workflows/csd_flow/_subject_id_sub-A279/seg5tt/5ttgen-tmp-048N34/
Return code: 1

